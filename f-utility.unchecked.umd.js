!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(n=n||self).F=e()}(this,(function(){"use strict";function mash(n,e){return Object.assign({},n,e)}function memoizeWith(n){return function memoize(e){const t={};return function memoized(){const r=Array.from(arguments),o=n(r);return o&&t[o]||(t[o]=e.apply(null,r)),t[o]}}}function defaultMemoizer(n){let[e,t]=n;return e.concat(t).map(n=>"symbol"==typeof n?function symbolToString(n){return""+n.toString()}(n):n&&"object"==typeof n?Object.entries(n).reduce((n,[e,t])=>n+"-"+e+":"+t,""):n)}function makeTypechecker(n,e=defaultMemoizer){return memoizeWith(e)((function rawMakeTypeChecker(e,t){if(!Array.isArray(e)||!Array.isArray(e))throw new TypeError("makeTypechecker needs two valid lists of types to run");const r=e[e.length-1],o=e.slice(0,e.length-1);return o.slice(0,t.length).map((function typeCheckParam(e,r){const o=n(t[r]),c=i(o,e);return{idx:r,raw:Object.freeze({value:t[r]}),actual:o,expected:e,success:c}})).reduce((function typeCheckOutcomes(n,e){const t=e.success?"valid":"invalid",r=mash(n,{[t]:n[t].concat([e]),rawParams:n.rawParams.concat([e])});return mash(r,{failures:n.failures||r.invalid.length>0})}),{rawParams:[],invalid:[],valid:[],signature:e.join(" -> "),params:o,returnType:r,given:t})}))}function checkParamsWith(n){return function checkParams(e,t){return!makeTypechecker(n)(e,t).failures}}function checkReturnWith(n){return function checkReturn(e){return function checkReturnTypeValidoutcomeAB(t,r){const o=n(e),c=makeTypechecker(n)(t,r).returnType;return i(c,o)}}}function system(n){let e=n&&n.constructor&&n.constructor.name||"Global",t=typeof n;return n||("undefined"===t||"object"===t?t="nil":e="Boolean"),`${e}${u}${t}`}function toString(n,e=[]){return function functionToString(){return`curry(${n.name||"fn"})${e.length>0?`(${e.join(",")})`:""}`}}function hmError(n,e,t){return`Given ${n}( ${e&&e.join(", ")} ) but expected ${n}( ${t.map(n=>Array.isArray(n)?n.join("|"):n).slice(0,e.length).join(", ")} )`}function DEFAULT_PLACEHOLDER_TEST(n){return n===p}function fabricate(n){const{test:e=DEFAULT_PLACEHOLDER_TEST}=n,t=function defineFunctionWithParameterTest(n){return function funcfunc({ts:e=system,n:t,hm:r,check:o}){if(o){if("function"!=typeof e)throw new TypeError("Expected typeSystem to be a function.");if(!r||!Array.isArray(r))throw new TypeError("Expected hm to be an array of strings.")}return function currified(c){function curried(){function saucy(){const e=Array.from(arguments);return curried.apply(this,u(n,e))}const n=Array.from(arguments),s=r&&Array.isArray(r)?r.length-1:t&&"number"==typeof t?t:c.length,f=a(n)?i(n):n.length;if(saucy.toString=toString(c,n),f>=s){const t=c.apply(this,n);if(o){const o=makeTypechecker(e)(r,n);if(!checkParamsWith(e)(r,n)){const{rawParams:n,params:e}=o;throw new TypeError(hmError(c.name,n.map(n=>n.actual),e.map(l)))}if(!checkReturnWith(e)(t)(r,n)){const{returnType:n}=o;throw new TypeError(`Expected ${c.name} to return ${l(n)} but got ${system(t)}.`)}}return t}return saucy}const i=function testCurryGaps(n){return function testCurryCapsByTaste(e){return e.reduce((function doesCurryTasteGood(e,t){return n(t)?e:e+1}),0)}}(n),u=function makeParamMerger(n){return function compareParams(e,t){return e.map((function testGaps(e){return n(e)&&t[0]?t.shift():e})).concat(t)}}(n),a=function some(n){return function someInList(e){return e.some(n)}}(n);return curried.toString=toString(c),curried}}}(e),r=t(mash(n,{n:!1,check:!1})),o=r((function _curryN(e,r){return t(mash(n,{n:e,check:!1}))(r)}));return{def:t,curry:r,curryN:o}}function ofConstructor(n){return function ofConstructorsAndMagic(e){return e&&e.constructor===n||e instanceof n}}function isUnmatched(n){return n===C}function makeAliases(n){return n.temper(n,{I:n.identity,K:n.constant,PLACEHOLDER:n.$,__:n.$,always:n.constant,entries:n.toPairs,every:n.all,fromEntries:n.fromPairs,merge:n.mash,mergeAll:n.smash,mergeRight:n.jam,sideEffect2:n.binarySideEffect,some:n.any})}function length(n){return n&&"object"==typeof n?Object.keys(n).length:n.length}function makeIterable(n){const e=Array.isArray(n);if(!e&&!(n&&"object"==typeof n))throw new TypeError("Expected iterable initial value to be either an array or an object.");const t=length(n),r=e?Array(t):{},o=!e&&Object.keys(n);return{length:t,iterate:function iterate(t){const r=e?t:o[t];return{key:r,value:n[r]}},init:r,isArray:e}}function temper(n,e){return Object.freeze(Object.assign({},n,e))}function extendDerived(n){return n.pipe(n.toPairs,n.reduce((function extendFUtility(n,[e,t]){const r=t(n);return n.mash(n,e.includes("__")?r:{[e]:r})}),n))(H)}function extendBinary(n){const e={gt:rn,gte:on,lt:un,lte:an,and:Y,equals:Z,or:dn,subtract:bn,add:R,divide:X,multiply:pn,all:K,any:G,filter:nn,find:B,forEach:en,includes:tn,max:fn,min:ln,apply:W,ap:J,concat:V,map:sn,join:cn,cond:Q,nth:mn,range:yn,sort:gn,split:hn,toJSON:En};return n.temper(n,e)}function extendTernary(n){return n.temper(n,{both:kn,either:Tn,reduce:_n,slice:On})}function extendQuaternary(n){return n.temper(n,{ifElse:jn})}const n=Object.freeze({$:"@@FUTILITY::constant.magic",UNMATCHED:"@@FUTILITY::constant.unmatched",b:"\b",f:"\f",n:"\n",t:"\t",r:"\r",q:"'",qq:'"',s:"\\",__of__:"∋",UNION_TYPE_DELIMITER:"|"}),e=memoizeWith((function basicMemo(n){return n}))((function unionType(n){return n.split("|")})),{__of__:t}=n,r=memoizeWith(n=>n)(n=>{const e=n.indexOf(t);return e>-1?n.slice(0,e):n}),{__of__:o}=n,c=memoizeWith(n=>n)(n=>{const e=n.indexOf(o);return e>-1?n.slice(e+1):n}),i=memoizeWith(n=>n)((function _compareTypes(n,t){const[o,i]=[n,t].map(e),u=o.length>1,a=i.length>1,s=o.map(n=>i.map(e=>"any"===n||"any"===e||n===e||r(n)===r(e)||c(n)===c(e))),f=s.reduce((n,e)=>n.concat(0===e.filter(n=>!n).length),[]).filter(Boolean);if(!u&&!a)return f.length>0;return s.reduce((n,e)=>n.concat(e),[]).reduce((n,e)=>n||e,!1)})),{__of__:u}=n,a=Object.freeze({string:"String∋string",number:"Number∋number",boolean:"Boolean∋boolean",function:"Function∋function",object:"Object∋object",undefined:"Global∋nil",symbol:"Symbol∋symbol",nil:"Global∋nil"}),{UNION_TYPE_DELIMITER:s,__of__:f}=n,l=function unionArchetype(n){return function arch(e){if(e&&e.indexOf&&e.indexOf(s)>-1&&n)return e.split(s).map(n=>unionArchetype(!1)(n));const t=a[e];return t||(e[0].toUpperCase()===e[0]?`${e}${f}object`:e)}}(!0),{$:p}=n;fabricate(DEFAULT_PLACEHOLDER_TEST);const[m,d,y,h,g,b]=[String,Number,Function,Boolean,Symbol,Object].map(ofConstructor),E=function ofType(n){return function compareTypeofs(e){return typeof e===n}}("undefined"),k=m,_=d,O=y,j=h,A=g,v=b,I=Array.isArray,{UNMATCHED:C}=n,N=Array.isArray,w=Object.keys,P=Object.freeze,x=Math.round;const U=temper(Object.freeze({__proto__:null,isArray:N,keys:w,freeze:P,round:x}),{F:function F(){return!0},T:function T(){return!0},adjust:function adjust(n,e,t){const r=[].concat(t),o=n<0?r.length+n:n;return r[o]=e(r[o]),r},append:function append(n,e){const t=[].concat(e);return t.splice(t.length,0,n),t},box:function box(n){return[n]},call:function call(n){return n[0].apply(null,n.slice(1))},complement:function complement(n){return function subtleComplement(){const e=Array.from(arguments);return!n.apply(null,e)}},constant:function constant(n){return function forever(){return n}},dec:function dec(n){return n-1},assoc:function assoc(n,e,t){return Object.assign({},t,{[n]:e})},dissoc:function dissoc(n,e){const t=Object.assign({},e);return delete t[n],t},first:function first(n){return n[0]},fromPairs:function fromPairs(n){return n.reduce((function pairing(n,[e,t]){return Object.assign({},n,{[e]:t})}),{})},identity:function identity(n){return n},inc:function inc(n){return n+1},jam:function jam(n,e){return Object.assign({},e,n)},tail:function tail(n){return n.slice(1)},init:function init(n){return n.slice(0,-1)},last:function last(n){return n[n.length-1]},length:length,mash:mash,mean:function mean(n){let e=0,t=0;for(;e<n.length;)t+=n[e],e+=1;return t/n.length},mode:function mode(n){const e={};let t=0,r=-1,o=-1;for(;t<n.length;){const r=n[t];e[r]||(e[r]=0),e[r]+=1,t+=1}t=0;const c=Object.keys(e);for(;t<c.length;){const n=e[c[t]];n>r&&(r=n,o=c[t]),t+=1}const i=parseInt(o);return isNaN(i)?o:i},not:function not(n){return!n},pipe:function pipe(){const n=Array.from(arguments),e=n.filter(n=>"function"!=typeof n);if(0!==e.length)throw new TypeError("Expected to receive functions as arguments, but received: "+e.map((n,e)=>`[${e}] = ${n}`).join(" ; "));return function piped(e){const t=n.length;let r=0,o=e;for(;r<t;){o=(0,n[r])(o),r+=1}return o}},prepend:function prepend(n,e){const t=[].concat(e);return t.splice(0,0,n),t},reverse:function reverse(n){const e=makeIterable(n);let t=e.length;const r=e.init;for(;t>-1;){const{value:n}=e.iterate(t);r[e.length-1-t]=n,t-=1}return r},smash:function smash(n){return n.reduce((n,e)=>Object.assign({},n,e),{})},smooth:function smooth(n){return n.filter(Boolean)},temper:temper,toLower:function toLower(n){return n.toLowerCase()},toPairs:function toPairs(n){return Object.keys(n).map((function enpair(e){return[e,n[e]]}))},toUpper:function toUpper(n){return n.toUpperCase()},update:function update(n,e,t){const r=[].concat(t);return r[n<0?r.length+n:n]=e,r}}),D=2,S=2,$=2,L=3,z=2,M=2,q=2,H={j2:function makeJ2({toJSON:n}){return n(2)},addIndex:function makeAddIndex({curryN:n}){return function addIndex(e){return n(e.length,(function indexAddedIter(){let n=0;const t=Array.prototype.slice.call(arguments,0),[r]=t,o=t[t.length-1];return t[0]=function indexAdded(){const e=r.apply(this,[].concat(arguments).concat([n,o]));return n+=1,e},e.apply(this,t)}))}},bind:function makeBind({curryN:n}){return n(2,(function bind(e,t){function bound(){return e.apply(t,arguments)}return e.length>1?n(e.length,bound):bound}))},flip:function makeFlip({curryN:n}){return function flip(e){return n(2,(function flipped(n,t){return e(t,n)}))}},__ifElse:function makeIfElseDerivatives({ifElse:n,identity:e,$:t}){return{when:n(t,t,e),unless:n(t,e)}},flatten:function makeFlatten({isArray:n,forEach:e}){return function flatten(t){let r=0;const o=makeIterable(t);let c=[];for(;r<o.length;){let{value:t}=o.iterate(r);n(t)?(t=flatten(t),e(n=>c.push(n),t)):c.push(t),r+=1}return c}},chain:function makeChain({curryN:n,map:e,pipe:t,reduce:r,concat:o}){return n(S,(function chain(n,c){return c&&"function"==typeof c.chain?c.chain(n):"function"==typeof c?e=>n(c(e),e):t(e(n),r(o,[]))(c)}))},reject:function makeReject({curryN:n,filter:e,complement:t}){return n(z,(function reject(n,r){return e(t(n),r)}))},uniq:function makeUniq({reduce:n}){return n((function unique(n,e){return n.includes(e)?n:n.concat(e)}),[])},isObject:function makeIsObject({both:n,isRawObject:e}){return function isObject(t){return n(e,Boolean)(t)}},median:function makeMedian({$:n,dec:e,pipe:t,length:r,nth:o,sort:c,divide:i}){return t(c((n,e)=>n-e),c=>t(r,e,i(2),Math.round,o(n,c))(c))},union:function makeUnion({uniq:n,curryN:e,pipe:t,concat:r}){return e(q,(function union(e,o){return t(r(o),n)(e)}))},difference:function makeDifference({curryN:n,filter:e,includes:t,complement:r}){return n($,(function difference(n,o){return e(r(t(o)),n)}))},symmetricDifference:function makeSymmetricDifference({curryN:n}){return n(M,(function symmetricDifference(n,e){const t=makeIterable(n),r=makeIterable(e),o=[];let c=0;for(;c<t.length;){const{value:n}=t.iterate(c);e.includes(n)||o.push(n),c+=1}let i=0;for(;i<r.length;){const{value:e}=r.iterate(i);n.includes(e)||o.push(e),i+=1}return o}))},__predicatesPass:function makePredicatesPass({curryN:n,pipe:e,map:t,flip:r,any:o,all:c,smooth:i,length:u,gt:a}){function predFor(o){return n(2,(function predPass(n,c){return e(t(r(o)(c)),i,u,a(0))(n)}))}return{anyPass:predFor(o),allPass:predFor(c)}},pathOr:function makePathOr({curryN:n,reduce:e}){return n(L,(function pathOr(n,t,r){return e((function walkPathOr(e,t){return e&&e[t]||n}),r,t)}))},__pathOrDerivatives:function makePathOrDerivatives({equals:e,is:t,curryN:r,pipe:o,pathOr:c}){function deriveFromAccessor(c){return{accIs:r(3,(function pathIsOfConstructor(e,r,i){return o(c(n.UNMATCHED,r),t(e))(i)})),unsafe:c(null),eq:r(3,(function equivalence(t,r,i){return o(c(n.UNMATCHED,t),e(r))(i)})),satisfies:r(3,(function satisfaction(e,t,r){return o(c(n.UNMATCHED,t),e,Boolean)(r)}))}}const{unsafe:i,eq:u,satisfies:a,accIs:s}=deriveFromAccessor(c),f=r(3,(function _propOr(n,e,t){return c(n,[e],t)})),{unsafe:l,eq:p,satisfies:m,accIs:d}=deriveFromAccessor(f);return{path:i,pathEq:u,pathSatisfies:a,pathIs:s,propOr:f,prop:l,propEq:p,propSatisfies:m,propIs:d}},pluck:function makePluck({curryN:n,map:e,prop:t}){return n(D,(function pluck(n,r){return e(t(n),r)}))}},R=function add(n,e){return e+n},B=function find(n,e){let t=0;const r=makeIterable(e);for(;t<r.length;){const{value:e}=r.iterate(t);if(n(e))return e;t+=1}},W=function apply(n,e){return n.apply(null,e)},Y=function and(n,e){return n&&e},G=function any(n,e){let t=0,r=!1;const o=length(e);for(;t<o&&!r;)n(e[t])&&(r=!0),t+=1;return r},K=function all(n,e){let t=0;const r=makeIterable(e);let o=!0;for(;t<r.length&&o;){const{value:e}=r.iterate(t);n(e)||(o=!1),t+=1}return o},J=function ap(n,e){if(O(n)&&O(e))return function sCombinator(t){return n(t,e(t))};if(!I(n)||!I(e))throw new TypeError("Expected to receive an array of functions and an array of values.");if(!n.length||n.filter(O).length!==n.length)throw new TypeError("Expected to receive an array of functions to apply.");return n.reduce((function apReduce(n,t){return n.concat(e.map(t))}),[])},V=function concat(n,e){return n.concat(e)},Q=function cond(n,e){let t,r=0,o=!1;const c=length(n);for(;r<c&&!o;){const[c,i]=n[r];c(e)&&(o=!0,t=i(e)),r+=1}return t},X=function divide(n,e){return e/n},Z=function equals(n,e){return n===e},nn=function filter(n,e){let t=0;const r=makeIterable(e),{length:o,isArray:c}=r,i=c?[]:{};for(;t<o;){const{key:e,value:o}=r.iterate(t);n(o)&&(c?i.push(o):i[e]=o),t+=1}return i},en=function forEach(n,e){let t=0;const r=makeIterable(e),{length:o}=r;for(;t<o;){const{value:e}=r.iterate(t);n(e),t+=1}},tn=function includes(n,e){return n.includes(e)},rn=function gt(n,e){return e>n},on=function gte(n,e){return e>=n},cn=function join(n,e){return e.join(n)},un=function lt(n,e){return e<n},an=function lte(n,e){return e<=n},sn=function map(n,e){let t=0;const r=makeIterable(e),{length:o,init:c}=r,i=c;for(;t<o;){const{key:e,value:o}=r.iterate(t);i[e]=n(o),t+=1}return i},fn=function max(n,e){return Math.max(n,e)},ln=function min(n,e){return Math.min(n,e)},pn=function multiply(n,e){return e*n},mn=function nth(n,e){return n<0&&e.length+n?e[e.length+n]:e[n]},dn=function or(n,e){return n||e},yn=function range(n,e){const t=[],r=e<n;for(let o=n;r?o>=e:o<=e;r?o--:o++)t.push(o);return t},hn=function split(n,e){return e.split(n)},gn=function sort(n,e){const t=[].concat(e);return t.sort(n),t},bn=function subtract(n,e){return e-n},En=function toJSON(n,e){return JSON.stringify(e,null,n)},kn=function both(n,e,t){return n(t)&&e(t)},Tn=function either(n,e,t){return n(t)||e(t)},_n=function reduce(n,e,t){const r=makeIterable(t);let o=0;const{length:c}=r;let i=e;for(;o<c;){const{value:e}=r.iterate(o);i=n(i,e),o+=1}return i},On=function slice(n,e,t){return t.slice(n,e)},jn=function ifElse(n,e,t,r){return n(r)?e(r):t(r)},An=Object.freeze({UNCHECKED:{name:"@@FUTILITY::config.unchecked",ts:()=>"any",check:!1},CHECKED:{name:"@@FUTILITY::config.checked",ts:system,check:!0},AUTO:{name:"@@FUTILITY::config.auto",ts:system,check:"undefined"!=typeof process&&void 0!==process.env&&void 0!==process.env.NODE_ENV&&"production"!==process.env.NODE_ENV||"undefined"!=typeof window&&"boolean"==typeof window.__FUTILITY_TYPE_CHECK&&window.__FUTILITY_TYPE_CHECK}}),vn=function core(e){return U.pipe(fabricate,(function basicDefinitions({def:e,curry:t,curryN:r}){const o=function makeSideEffectsFromEnv(n){const e=n((function _sideEffect(n,e){return n(e),e})),t=n((function _binarySideEffect(n,e,t){return n(e,t),t})),r=t(console.log);return{sideEffect:e,binarySideEffect:t,trace:r,inspect:n((function _inspect(n,e,t,r){return n(t,e(r)),r}))}}(t),c=function autoCurryUsing(n){return function autoCurry(e){return Object.keys(e).map((function wrapCurry(t){const r=e[t];return[t,"function"==typeof r&&r.length?n(r.length,r):r]})).reduce((n,[e,t])=>Object.assign({},n,{[e]:t}),{})}}(r),i=U.smash([c(U),o,{memoizeWith:memoizeWith,def:e,curry:t,curryN:r,C:n,$:n.$,is:ofConstructor,isArray:I,isBoolean:j,isFunction:O,isNumber:_,isRawObject:v,isString:k,isSymbol:A,isUndefined:E,isUnmatched:isUnmatched}]);return i.pipe(extendBinary,c,extendTernary,c,extendQuaternary,c,extendDerived,makeAliases)(i)}))(e)}(An.UNCHECKED);return vn.temper(vn,{version:"4.0.0",configuration:An.UNCHECKED})}));
